# **OLX Parser – Система для парсинга объявлений аренды**  

Этот проект представляет собой веб-скрапинг-сервис для сбора объявлений об аренде недвижимости с сайта OLX.  
Он позволяет автоматически извлекать информацию о недвижимости, включая цену, площадь, этажность, контакты владельца и другие детали.  

## **Функциональность**  
✅ **Сбор объявлений** по указанным параметрам (город, количество комнат, объявления только от собственников и т. д.).  
✅ **Извлечение контактных данных** (номер телефона) из API.  
✅ **Сохранение данных** в базу PostgreSQL.  
✅ **Автоматическое обновление** данных с использованием CRON.  
✅ **Логирование** процесса парсинга.  
✅ **Работа с прокси** Для получения номеров телефонов используется прокси-сервер.
---

## **Технологии**  
- **Node.js** – среда выполнения.  
- **Axios** – для HTTP-запросов.  
- **Cheerio** – для парсинга HTML.  
- **PostgreSQL** – база данных.  
- **Moment.js** – для работы с датами.  
- **fs-extra** – расширенные возможности работы с файлами.  

---

## **Установка и запуск**  

### **1. Клонирование репозитория**  
```sh
git clone https://github.com/moonssword/parser_olx.git
cd parser_olx
```
### **2. Установка зависимостей**
```sh
npm install
```

### **3. Создание конфигурационного файла**
```ini
DB_HOST=localhost
DB_PORT=5432
DB_USER=your_user
DB_PASSWORD=your_password
DB_NAME=your_database
PROXY_USERNAME=your_proxy_username
PROXY_PSSWRD=your_proxy_password
```

### **4. Запуск парсера вручную**
```sh
npm start
```

### **5. Автоматический запуск по расписанию**
Парсер настроен на автоматический запуск в 15:00 каждый день.
Для изменения расписания редактируйте CRON-задание в index.js:
```js
cron.schedule('0 15 * * *', async () => {
    console.log('Запуск парсинга объявлений');
    await parser.scrapeAds();
});
```

##  **Структура проекта**
```bash
olx-parser/
│── logs/                 # Логи работы парсера
│── db-manager.js         # Работа с базой данных
│── parser.js             # Основной скрипт парсинга
│── searchConfig.json     # Конфигурация поиска
│── index.js              # Настройки CRON
│── .env                  # Файл с переменными окружения
│── package.json          # Файл зависимостей
│── README.md             # Описание проекта
```
